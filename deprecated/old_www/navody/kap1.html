<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1250"><title>1. Úvod</title>


	
    <link rel="STYLESHEET" type="text/css" href="kap1_soubory/main.css">
	<style type="text/css"><!--:hover { font-weight: bold;         color: red }
--></style></head><body alink="Blue" background="kap1_soubory/pozadi.jpg" vlink="Blue">
<a name="k"></a>
<img src="kap1_soubory/prev.gif">
<a href="http://www.cs.vsb.cz/amalka/tomica/sql/kap2.html"><img src="kap1_soubory/next.gif" alt="2. Definice dat v SQL "></a>
<a href="http://www.cs.vsb.cz/amalka/tomica/sql/index.html"><img src="kap1_soubory/toc.gif" alt="Obsah"></a>
<hr color="Blue" size="1">
<h1>1. Úvod do SQL</h1>
<p>Souèasné relaèní SØBD obsahují ve vìtšinì pøípadù uživatelský jazyk
SQL (Structured Query Language). Jeho
poèátky sahají do r.1974, kdy se ještì nazýval Sequel [CB74] a byl
zamìøen hlavnì na svou dotazovací èást. Jeho prototypová implementace
byla souèástí Systému R vyvinutého v laboratoøi IBM v San Jose v
Kalifornii (dnes Almaden Research Center), kde byl zamìstnán i tvùrce
RMD (relaèní datový model) - Dr.E.F.Codd . </p>
<p>Výchozí koncepce jazyka SQL (vyslovuj es kjú el) je tedy stará již
20 let. Protože jazyk vznikal dosti živelným zpùsobem (podobnì jako v
programovacích jazycích FORTRAN), dlouho nebyla publikována jeho
definitivní syntaxe. Øada "SQL-like" produktù, které vznikly v 1.
polovinì 80. let, se v nìkterých rysech pøekrývá, v nìkterých odlišuje;
situace volala po standardizaci, ke které skuteènì v r. 1986 došlo. Na
trhu se již objevily desítky systémù SQL (Date uvádí v r.1986 více než
35 komerèních produktù [Da86], Jones hovoøí v roce 1989 již o více než
55 produktech [Jo89]) Pøipomeòme v této souvislosti, že filozofie
jazyka byla èeskoslovenské odborné veøejnosti prezentována na semináøi
SOFSEM již v r.1978 [PBK78]. </p>
<p>Z prvních významnìjších produktù obsahujících SQL jmenujme tøi
systémy IBM, jichž je SQL souèástí: DB2, SQL/DS a QMF. DB2 je SØBD pro
operaèní systémy MVS/370 a MVS/XA, SQL/DS je SØBD pro operaèní systémy
VMJCMS a DOS/VSE. Oba SØBD také umožòují využívat data z hierarchicky
orientovaného SØBD IMS. V QMF je SQL použit jako uživatelské rozhraní.
Jak SQL/DS, tak DB2 vycházejí v základní koncepci ze Systému R. </p>
<p>S nástupem poèítaèù tøídy PC se øada svìtových výrobcù software
zaèala v 80. letech orientovat na implementaci SQL. Patøila mezi nì i
známá firma Ashton-Tate s SQL v dBASE IV Implementace SQL v dBASE i
FoxPro ovšem nejsou úplnými verzemi jazyka. Známý je i SQL/RT firmy IBM
na osobním poèítaèi RT, který se již vyrovná, co se týèe výkonnosti,
SØBD na vìtších poèítaèích. Pøehledné, i když dnes už spíše historické
srovnání šesti SØBD s SQL ve verzích pro poèítaèe tøídy PC (INFORMIX-
SQL, INGRES pro PC, ORACLE, SQLBase, XDB II, XQL) je možné nalézt v
èlánku [FP88], srovnání dBASE IV a ORACLE je v [KKD90]. </p>
<p>Od jednouživatelských SØBD (pøípadnì verzí tìchto systémù v
lokálních sítích) s SQL pøistoupila øada výrobcù k vytváøení výkonných
SØBD v prostøedí UNIX, resp. databázových serverù založených pøímo na
SQL. Z implementací této tøídy je u nás k vidìní napø. SØBD ORACLE,
INFORMIX, PROGRESS, INGRES a další. Z kompatibilního software pro
databázový server s SQL pøímo v názvu produktu jmenujme alespoò SQL
Server od Sybase (pro Netware, UNIX, VAX/VMS) a SQL Server od firmy
Microsoft (pro
OS2).</p>
<p>SQL bývá použit i jako rozhraní jiných, obecnì nerelaèních systémù.
SQL je obsažen
též v poslední verzi velmi efektivního prostøedku pro hierarchicky
orientované databázové aplikace - DATAFLEXu. Také SØBD ADABAS má
rozhraní SQL. </p>
<p>Zlomem ve vývoji SQL se stala jeho již zmínìná standardizace
organizací ANSI v roce 1986 a její pøijetí ISO v r. 1987 [IS087].
Standard pøedstavoval v podstatì dialekt SQL firmy IBM a byl
charakterizován jako "prùnik existujících implementací". Nazývá se též
SQL86. Rozšíøení definièního jazyka týkající se možnosti definovat
integritní omezení byla shrnuta ve zprávì [IS089]. Takto rozšíøený SQL
se nazývá SQL89. Další vývoj jazyka vyústil do standardu SQL92, který
byl pøijat ANSI v r. 1992. </p>
<p>Mezi standardy též existuje verze X/OPEN SQL vycházející z ANSI,
ovšem s nìkterými rozdíly souvisejícími s použitím UNIXU jako
implementaèního prostøedí. Firma IBM také publikovala svùj vlastní
standard - Systems Application Architecture Database Interface
(SAA-SQL). SQL je také èástí federálního standardu pro zpracování
informací (FIPS). </p>
<p><i>SQL je více než dotazovací jazyk. Je možné v nìm definovat data a
provádìt aktualizace, tak jak je obvyklé u každého SØBD, možné je i
definovat uživatelská práva pøístupu k relacím. Zatímco definice dat
prostøednictvím množiny tabulek (odpovídajících relaènímu schématu
databáze) vedou k fyzicky existujícím objektùm v podobì záznamù, nabízí
SQL také možnost vytváøet pohledy.</i> </p>
<p>Dalším rysem øady implementací SQL je možnost definovat indexy, tj.
indexové struktury umožòující rychlejší pøístup k prvkùm relací pøi
zpracování uživatelského požadavku. Jejich vyhodnocování ovšem provádí
SØBD, který sám urèuje eventuální použití indexù, pøípadnì rozhodne o
jejich doèasném (èi trvalém) vytvoøení. V tomto smyslu je dotazovací
jazyk SQL nezávislý na fyzické organizaci dat; použití indexù se
nevyskytuje explicitnì v uživatelských dotazech. </p>
<p>Pohledy i indexy mohou být v prùbìhu existence relaèní databáze
definovány a opìt rušeni. a to podle požadavkù uživatele. V
architektuøe rozsáhlejších IS je pøirozené nechat tuto starost na
správci dat. </p>
<p>SQL se v relaèních SØBD vyskytuje obvykle ve dvou verzích souèasnì -
interakèní a hostitelské. V interakèní verzi se pøíkazy dají používat
samostatnì v režimu online. v hostitelské se pøíkazy SQL stávají
souèástí hostitelského jazyka, jako je napø. PL/1, COBOL. FORTRAN apod.
V hostitelské verzi je nutné vhodnì realizovat vazby mezi promìnnými
programovacího jazyka a výsledky dotazù v SQL. Implementace SQL se liší
ve zpùsobu práci s dotazem. Nìkteré systémy jsou interpretaèní, nìkteré
kompilaèní. Napø. SQL/DS nebo DBje plnì kompilaèní systém, tj. jak v
hostitelské, tak v interakèní verzi je dotaz kompilován. Toto øešení je
perspektivní v tom, že lze dosáhnout optimalizovaného kódu pøeloženého
dotazu. ovšem za cenu režie potøebné pro pøeklad a jeho optimalizaci. </p>
<dl>
<dt>Proces zpracování napø. v hostitelské verzi pak probíhá následovnì:</dt>
<ul type="circle">
<li> pøíkaz v SQL je pøedkompilátorem nahrazen jistým voláním procedury (CALL v PL/1), 
</li><li> program je dále kompilován bìžným zpùsobem, 
</li><li> dotaz je kompilován, optimalizován a uložen ve vyvolatelné verzi ve slovníku dat. 
</li></ul>
</dl>
<p>Takto vytvoøená verze dotazu je potom k dispozici v okamžiku bìhu
programu, ovšem s tím. že po pøekladu dotazu mohly být zmìnìny
podmínky, za nichž byl zpùsob zpracování dotazu plánován (napø. došlo
ke zmìnì indexu pro nìjaký atribut relace). V dobì volání programu tedy
již neplatí rozhodnutí užitá v dobì kompilace. V takovém pøípadì zaøídí
napø.
SØBD DB2 rekompilaci dotazu, ovšem tak, aniž by byl narušen
zkompilovaný uživatelský program. Tímto zpùsobem je vlastnì realizována
tolik proklamovaná nezávislost programù na fyzických datech. </p>
<dl>
<dt>Jazyk SQL má nìkolik èástí:</dt>
<ul>
<li>jazyk pro definici dat, 
</li><li>interaktivní jazyk pro manipulaci dat, 
</li><li>jazyk pro manipulaci dat v hostitelské verzi, 
</li><li>možnost definice pohledù, 
</li><li>možnost definice pøístupových práv, 
</li><li>možnost definice integritních omezení (v praxi používaném standardu, tj. v
  SQL89, jde zatím oproti pùvodnímu Sequelu pouze o omezené možnosti), 
</li><li>øízení transakcí (pøíkazy pro specifikaci zaèátku a konce
transakce; SAA-SQL umožòuje i explicitní uzamykání dat pro paralelní
pøístup k datùm). </li></ul>
</dl>
<p>Budeme se zatím vìnovat jednotlivým rysùm jazyka SQL bez ohledu na
standard, tj. spíše z hlediska sjednocení rùzných prvkù, tak jak se
vyskytují v rùzných známých implementacích.</p>
<hr color="Blue" size="1">
<img src="kap1_soubory/prev.gif" align="left">
<a href="http://www.cs.vsb.cz/amalka/tomica/sql/kap2.html"><img src="kap1_soubory/next.gif" alt="2. Definice dat v SQL " align="left"></a>
<a href="http://www.cs.vsb.cz/amalka/tomica/sql/index.html"><img src="kap1_soubory/toc.gif" alt="Obsah" align="left"></a>
<div style="position: absolute; left: 0px; top: 0px; z-index: 1000000000 ! important; visibility: hidden; opacity: 1;" id="linkalert-box"><img src="kap1_soubory/none-icon.png" id="linkalert-icon-1"></div></body></html>