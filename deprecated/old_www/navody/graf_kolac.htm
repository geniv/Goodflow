<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>



<meta name="description" content="Podpoøit publikovanı statistickı údaj grafem je leckdy velmi vhodné a uiteèné, o tom nemùe bıt pochyb. Máte-li zájem obohatit své stránky, neváhejte, a náhlédnìte do èlánku, kterı se zabıvá tvorbou vybraného z nich - grafu koláèového." lang="cs">
<meta name="description" content="Podpoøit publikovanı statistickı údaj grafem je leckdy velmi vhodné a uiteèné, o tom nemùe bıt pochyb. Máte-li zájem obohatit své stránky, neváhejte, a náhlédnìte do èlánku, kterı se zabıvá tvorbou vybraného z nich - grafu koláèového." lang="en">
<meta http-equiv="description" content="Podpoøit publikovanı statistickı údaj grafem je leckdy velmi vhodné a uiteèné, o tom nemùe bıt pochyb. Máte-li zájem obohatit své stránky, neváhejte, a náhlédnìte do èlánku, kterı se zabıvá tvorbou vybraného z nich - grafu koláèového.">
<meta http-equiv="content-language" content="cs">
<meta http-equiv="content-type" content="text/html; charset=windows-1250"><title>Koláèovı graf v PHP -- PC Svìt</title>

<link rel="stylesheet" href="graf_kolac_soubory/www.css">
<script language="javascript" type="text/javascript">
<!--
function getElement(e)
{
  if(document.all) return document.all[e];
  else return document.getElementById(e);
}

peson = new Image(305,13);
peson.src = "/images/1-5on.gif";
pesoff = new Image(305,13);
pesoff.src = "/images/1-5.gif";

hledejon = new Image(20,11);
hledejon.src = "/images/5-4on.gif";
hledejoff = new Image(20,11);
hledejoff.src = "/images/5-4.gif";

topon = new Image(20,11);
topon.src = "/images/7-pat-top-on.gif";
topoff = new Image(20,11);
topoff.src = "/images/7-pat-top-off.gif";

var mnu = new Array();

mnu[1] = 'komunikace:<img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/komunikace/mobily/" class="menu2">mobily</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/komunikace/site" class="menu2">sítì</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/komunikace/pripojeni" class="menu2">pøipojení</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11">';
mnu[2] = 'internet:<img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/internet/webhosting/" class="menu2">webhosting</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/internet/webdesign" class="menu2">webdesign</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/internet/weby" class="menu2">weby</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11">';
mnu[3] = 'programování:<img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/c/" class="menu2">C++</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/delphi/" class="menu2">Delphi</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/vbasic/" class="menu2">V.Basic</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/assembler/" class="menu2">Asm</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/pascal/" class="menu2">Pascal</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/java/" class="menu2">Java</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/sql/" class="menu2">SQL</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/wsh/" class="menu2">WSH</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11">';
mnu[4] = 'web-programování:<img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/perl/" class="menu2">Perl</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/php/" class="menu2">PHP</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/asp/" class="menu2">ASP</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/javascript/" class="menu2">JavaScript</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/java/" class="menu2">Java</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/html/" class="menu2">HTML</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/sql/" class="menu2">SQL</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11">';
mnu[5] = 'hw:<img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hardware/motherboard/" class="menu2">desky</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hardware/procesory/" class="menu2">procesory</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hardware/grafika/" class="menu2">grafika</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hardware/zvuk/" class="menu2">zvuk</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hardware/periferie/" class="menu2">periferie</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hardware/monitory/" class="menu2">monitory</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hardware/mechaniky/" class="menu2">média</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hardware/prislusenstvi/" class="menu2">pøísluš.</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hardware/testy/" class="menu2">testy</a>';
mnu[6] = 'software:<img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/windows/" class="menu2">Windows</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/linux/" class="menu2">Linux</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/hry/" class="menu2">hry a zábava</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/software/recenze/" class="menu2">recenze</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/office/" class="menu2">MS Office</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11">';
mnu[7] = 'bezpeènost:<img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/bezpecnost/viry/" class="menu2">Viry</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11">';
mnu[8] = 'magazín:<img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/literatura/" class="menu2">literatura</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/magazin/akce/" class="menu2">akce</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/magazin/novinky/" class="menu2">novinky</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11"><a href="http://www.pcsvet.cz/magazin/tisk/" class="menu2">tiskové zprávy</a><img src="/images/6-3a.gif" align="absmiddle" alt="" width="20" height="11">';

function pmnu(mnu_id)
{
	 getElement("mnux").innerHTML = mnu[mnu_id];
}
// -->
</script>

<style type="text/css">
<!--
.mline { font-family: Tahoma, Arial, Verdana; font-size: 8pt; font-weight: bold; background-color: #444444; color: #FFFFFF }
.mitem { cursor: hand }

.mtable { font-family: Tahoma, Arial, Verdana; font-size: 8pt; border: 1px solid #000000; background-color: #EEEEEE; visibility: hidden; position: absolute }
.mtitem { cursor: hand; background-color: #EEEEEE; color: #000000 }

.mfirma { color: #DDDDDD; font-weight: none }
.mfirma a { color: #DDDDDD; text-decoration: none }
.mfirma a:active { color: #DDDDDD; text-decoration: none }
.mfirma a:visited { color: #DDDDDD; text-decoration: none }
.mfirma a:hover { color: #FFFFFF; text-decoration: underline }
-->
</style><style type="text/css">
<!--
p {text-align: justify}
-->
</style></head><body>


<script language="JavaScript" type="text/javascript">
<!--
var intg;
var tleft = 0;
var PocetMenu = 0;
var mLeft = new Array();

function hidemenus(exc)
{
 clearInterval(intg);
 intg = null;
 for (id=1; id<=PocetMenu; id++){
  document.all("mnui"+id).style.visibility = "hidden";
  document.all("i"+id).style.color = "#FFFFFF";
  document.all("i"+id).style.backgroundColor = "#444444";
 }
}

function outobject()
{
 intg = setInterval("hidemenus(20)",400);
}

function onheader(hID)
{
 hidemenus(hID);
 document.all("mnui"+hID).style.visibility = "visible";
 document.all("i"+hID).style.color = "#000000";
 document.all("i"+hID).style.backgroundColor = "#EEEEEE";	
}

function onobject()
{
 clearInterval(intg);
 intg = null;
}

function onitem(obj)
{
 obj.style.color = "EEEEEE";
 obj.style.backgroundColor = "111111";
}

function outitem(obj)
{
 obj.style.color = "000000";
 obj.style.backgroundColor = "EEEEEE";
}

function setleft()
{
 for (i=1;i<=PocetMenu;i++) {
  document.all("mnui"+i).style.left = mLeft[i];
 }
}

function mAddHeader(ID,nadpis,leftpos) {
 document.write('<td id="i'+ID+'" onmouseover="onheader('+ID+');" onmouseout="outobject();" class="mitem">&nbsp; '+nadpis+' &nbsp;</td>');
 mLeft[ID] = leftpos;
 if (PocetMenu < ID) PocetMenu = ID;
}

function mBeginTable(ID) {
 document.write('<table style="z-index: 100;" width="120" id="mnui'+ID+'" border="0" cellspacing="1" cellpadding="2" class="mtable" onmouseover="onobject();" onmousemove="onobject();" onmouseout="outobject();" class="mtable">');
}

function mEndTable() {
 document.write('</table>');
}

function mAddItem(nadpis,URL,Popis) {
 document.write('<tr><td class="mtitem" onmouseover="onitem(this);" onmouseout="outitem(this);" onclick="window.navigate(\''+URL+'\');" title="'+Popis+'">'+nadpis+'</td></tr>');
}

if (window.clientInformation.userAgent.indexOf("MSIE") > 0 ||
    window.clientInformation.userAgent.indexOf("pera/7.") > 0
	)
{
	
 document.write('<div align="center" style="z-index: 101; border-bottom: 1px solid white"><center><table id="ptable" border="0" cellspacing="2" cellpadding="0" class="mline" width="100%"><tr><td width="20">&nbsp;</td><td><table class="mline" cellspacing="0" cellpadding="0" border="0"><tr>');
 mAddHeader(1,"Provozované servery",26);
 mAddHeader(2,"DOMÉNY",156);
 mAddHeader(3,"WEBHOSTING",257);
 mAddHeader(4,"PØIPOJENÍ",352);
 mAddHeader(5,"SERVERHOSTING",452);
 document.write('</tr></table></td><td width="120" class="mfirma"><a href="http://www.forpsi.com/">FORPSI</a></td><td width="20">&nbsp;</td></tr></table></center></div>');

 mBeginTable(1);
 mAddItem('Móda.cz','http://www.moda.cz/','Server o módì, stylu, zdraví a volném èase');
 mAddItem('CzechWeb','http://www.czechweb.cz/','ebøíèek registrátorù èeskıch a slovenskıch domén, dennì nové statistiky');
 mAddItem('PC Svìt','http://www.pcsvet.cz/','Poèítaèe, programování, komunikace, Internet');
 mAddItem('Právník.cz','http://www.pravnik.cz/','Internetovı právník pro kadého - úplná znìní, èlánky, poradna');
 mAddItem('Poèítadlo.cz','http://www.pocitadlo.cz/','Sluba pro poèítání pøístupù na vaše stránky vèetnì podrobnıch statistik');
 mAddItem('iReklama.cz','http://www.ireklama.cz/','Vımìnı reklamní systém pro vaše stránky');
 mEndTable();

 mBeginTable(2);
 mAddItem('FORPSI.com - registrace domén','http://www.forpsi.com/domain/','Nejlevnìjší registrace domén'); 
 mAddItem('Domény .cz','http://www.forpsi.com/domain/','Registrace domén ji za 549,-Kè roènì');
 mAddItem('Domény .com','http://www.forpsi.com/domain/','Registrace domén ji za 219,-Kè roènì');
 mEndTable();

 mBeginTable(3);
 mAddItem('FORPSI.com - homepage','http://www.forpsi.com/','FORPSI.com - homepage'); 
 mAddItem('FORPSI.com - WEBHOSTING','http://www.forpsi.com/webhosting/','FORPSI.com - nejširší nabídka webhostingu'); 
 mAddItem('PIDIhosting','http://www.forpsi.com/webhosting/pidi.php','Hosting pro kadého'); 
 mAddItem('PIDIhosting + mail','http://www.forpsi.com/webhosting/pidi.php','Hosting pro kadého vèetnì mailu'); 
 mAddItem('NORMALhosting','http://www.forpsi.com/webhosting/normal.php','Standardní hosting za rozumnou cenu');
 mAddItem('EXCLUSIVEhosting','http://www.forpsi.com/webhosting/exclusive.php','To nejlepší pro ty nejlepší');
 mAddItem('EMAILhosting','http://www.forpsi.com/webhosting/email.php','Hosting vašich mailù'); 
 mEndTable();
	
 mBeginTable(4);
 mAddItem('FORPSI - pøipojení k internetu','http://www.forpsi.com/internet/','Kompletní nabídka bezdrátového èi pevného pøipojení k Internetu'); 
 mAddItem('ADSL pøipojení','http://www.forpsi.com/internet/?page=adsl_cr_price','Pøipojení k Internetu telefonní linkou pomocí technologie ADSL'); 
 mAddItem('Wi-Fi Lite','http://www.forpsi.com/internet/?page=wifi_lite_price','Nejjednodušší bezdrátové pøipojení technologií Wi-Fi'); 
 mAddItem('Wi-Fi','http://www.forpsi.com/internet/?page=wifi_price','Profesionální pøipojení technologií Wi-Fi'); 
 mEndTable();
 
 mBeginTable(5);
 mAddItem('FORPSI - serverhosting','http://www.forpsi.com/server/dedicated.php','SERVERHOSTING a SERVERHOUSING'); 
 mAddItem('FORPSI - DEDICATED','http://www.forpsi.com/server/dedicated.php','Nabídka pronájmu serverù s kompletní nabídkou slueb'); 
 mAddItem('FORPSI - Private','http://www.forpsi.com/server/private.php','Nabídka housingu vašich serverù s kompletní nabídkou slueb'); 
 mEndTable();

 setleft();
}
// -->
</script>


<table align="center" border="0" cellpadding="0" cellspacing="0" width="780">
<tbody><tr><td width="767">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td height="158" width="305">

<table border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td colspan="3" height="14" width="305"><img src="graf_kolac_soubory/1-1.gif" alt=""></td></tr>
<tr><td height="11" width="253"><img src="graf_kolac_soubory/1-2.gif" alt=""></td><td height="11" width="27"><a href="http://www.forpsi.com/" target="_top" onmouseover="pesoff.src=peson.src; return true" onmouseout="pesoff.src='/images/1-5.gif'; return true"><img src="graf_kolac_soubory/1-3.gif" alt="" border="0"></a></td><td height="11" width="25"><img src="graf_kolac_soubory/1-4.gif" alt=""></td></tr>
<tr><td colspan="3" height="13" width="305"><img name="pesoff" src="graf_kolac_soubory/1-5.gif" alt=""></td></tr>
<tr><td colspan="3" height="120" width="305"><a href="http://www.pcsvet.cz/"><img src="graf_kolac_soubory/1-6.gif" alt="" border="0"></a></td></tr>
</tbody></table>

</td>
<td width="90">

<table border="0" cellpadding="0" cellspacing="0" width="90">
<tbody><tr><td background="graf_kolac_soubory/2-1.gif" height="13" width="1"></td></tr>
<tr><td bgcolor="white" height="145"><iframe src="graf_kolac_soubory/2-2.htm" name="menu1" marginwidth="0" marginheight="0" align="middle" frameborder="0" height="100%" scrolling="auto" width="100%"></iframe></td></tr>
</tbody></table>

</td>
<td bgcolor="white" valign="top" width="10">
<img src="graf_kolac_soubory/3.gif" alt="">
</td>
<td width="400">

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr><td background="graf_kolac_soubory/4-1.gif" height="8"></td></tr>
<tr><td height="150"><iframe src="graf_kolac_soubory/topinfo.htm" name="4-2" marginwidth="0" marginheight="0" align="middle" frameborder="0" height="100%" scrolling="no" width="100%"></iframe></td></tr>
</tbody></table>

</td>
</tr>
<tr>
<td colspan="4" height="35" width="100%">

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="28"><img src="graf_kolac_soubory/5-1.gif" alt=""></td>
<td width="65">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr><td background="graf_kolac_soubory/5-2.gif">&nbsp;</td></tr>
<tr><td bgcolor="white"><form method="get" action="/misc/search.php" name="sfrm" style="margin-top: 0pt; margin-bottom: 0pt;"><input name="kde" value="1" type="hidden"><input size="10" name="co" value="hledat" onclick="value='';" style="border: 0px solid ; font-family: Verdana; font-size: 10px;" type="text"></form></td></tr>
<tr><td><img src="graf_kolac_soubory/5-3.gif" alt=""></td></tr>
</tbody></table>
</td>
<td width="18"><a href="#" onclick="sfrm.submit();" onmouseover="hledejoff.src=hledejon.src; window.status='hledej';return true" onmouseout="hledejoff.src='/images/5-4.gif'; window.status='pcsvìt';return true"><img name="hledejoff" src="graf_kolac_soubory/5-4.gif" alt="go" border="0"></a></td>
<td width="9"><img src="graf_kolac_soubory/5-5.gif" alt=""></td>
<td>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr><td align="left" background="graf_kolac_soubory/5-7.gif" height="11"><img src="graf_kolac_soubory/5-6.gif" alt=""></td></tr>
<tr><td align="left" background="graf_kolac_soubory/5-8.gif" height="24" valign="middle">
<a href="http://www.pcsvet.cz/komunikace/" class="menu" onmouseover="pmnu(1);">komunikace</a>
&nbsp;<a href="http://www.pcsvet.cz/internet/" class="menu" onmouseover="pmnu(2);">internet</a>
&nbsp;<a href="http://www.pcsvet.cz/prog/" class="menu" onmouseover="pmnu(3);">prog.</a>
&nbsp;<a href="http://www.pcsvet.cz/prog/" class="menu" onmouseover="pmnu(4);">web-prog.</a>
&nbsp;<a href="http://www.pcsvet.cz/hardware/" class="menu" onmouseover="pmnu(5);">hardware</a>
&nbsp;<a href="http://www.pcsvet.cz/software/" class="menu" onmouseover="pmnu(6);">software</a>
&nbsp;<a href="http://www.pcsvet.cz/bezpecnost/" class="menu" onmouseover="pmnu(7);">bezpeènost</a>
&nbsp;<a href="http://www.pcsvet.cz/magazin/" class="menu" onmouseover="pmnu(8);">magazín</a>
&nbsp;<a href="http://www.pcsvet.cz/forum/" class="menu">disk.fórum</a>
</td></tr>
</tbody></table>
</td></tr>
</tbody></table>

</td>
</tr>
<tr>
<td colspan="4" background="graf_kolac_soubory/6-2.gif" width="100%">

<table border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td><img src="graf_kolac_soubory/6-1.gif" alt=""></td>
<td id="mnux" valign="top">bezpeènost:<img src="graf_kolac_soubory/6-3a.gif" alt="" align="absmiddle" height="11" width="20"><a href="http://www.pcsvet.cz/bezpecnost/viry/" class="menu2">Viry</a><img src="graf_kolac_soubory/6-3a.gif" alt="" align="absmiddle" height="11" width="20"></td>

</tr>
</tbody></table>

</td>
</tr>
<tr>
<td colspan="4" width="100%">

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr><td background="graf_kolac_soubory/7.gif" width="15">&nbsp;</td><td bgcolor="white" width="5">&nbsp;</td><td align="left" bgcolor="white" valign="top">
<table><tbody><tr><td height="1"></td></tr></tbody></table>


<p class="ndp">Koláèovı graf v PHP</p>
<p>poèet názorù: <b>16</b> &nbsp; poslední: 20.01.2008 18:57:56 &nbsp; <a href="http://www.pcsvet.cz/forum/forum.php?art=5050" class="autor">èíst názory</a> &nbsp; <a href="http://www.pcsvet.cz/forum/forum-add.php?art=5050" class="autor">pøidat názor</a> &nbsp; <a href="http://www.pcsvet.cz/art/article_print.php?id=5050">vytisknout</a></p>
<p>Podpoøit publikovanı statistickı údaj grafem je leckdy velmi vhodné
a uiteèné, o tom nemùe bıt pochyb. Máte-li zájem obohatit své
stránky, neváhejte, a náhlédnìte do èlánku, kterı se zabıvá tvorbou
vybraného z nich - grafu koláèového.</p>
<hr color="#777777" size="1">

<ws-body>
</ws-body><h3>Úvodem</h3>
<p>
Na webovıch stránkách èasto potøebujeme zveøejòovat rùzné statistické údaje. (kupøíkladu vısledky 

anket...). Mnoho z nich lze díky grafùm prezentovat velmi pøehlednì a vıraznì, co obvykle bıvá 

minimálnì ádoucí, ne-li pøímo nezbytné. Tento èlánek se zabıvá dynamickım generováním univerzálního 

koláèového grafu pomocí jazyka PHP. Problematika, kde se dané údaje získají, nebo kde jsou uloeny, 

zde øešena není, jeliko záleí na jednotlivıch pøípadech. Algoritmus navrhneme tak, aby byl 

pouitelnı na jakékoli èíselné údaje. Konkrétní vyuití ji záleí samozøejmì èistì na vás.
</p>

<h3>Pusme se do toho!</h3>
<p>
Nejprve je asi nutné øíci, e graf budeme generovat v podobì obrázku. Z toho vyplıvají nìkteré 

skuteènosti, je shrnují následující øádky kódu. Paklie jim nerozumíte, neb jste se s generováním 

obrázkù v php zatím nesetkali, doporuèuji vám nejprve prostudovat èlánek touto technikou se 

zabıvající. Odkaz naleznete ve spodní èásti stránky v sekci "Související èlánky".
</p>

<pre class="kod">&lt;?
  Header("Content-type: image/jpeg");

  $width = 150;   //definice šíøky a vıšky obrázku
  $height = 150;

  $img = ImageCreate($width,$height);
  $colors = Array(ImageColorAllocate($img,255,0,0),    //cervena
                  ImageColorAllocate($img,0,255,0),    //zelena
                  ImageColorAllocate($img,0,0,255),    //modra
                  ImageColorAllocate($img,255,255,0)   //zluta
                 );

  $white = ImageColorAllocate($img,255,255,255);
  ImageFill($img,0,0,$white); //nastavení barvy pozadí za grafem

  ...
  ...

  ImageJpeg($img,"",100);
  ImageDestroy($img);
?&gt;
</pre>

<p>
Pole $colors definuje barvy jednotlivıch vıseèí grafu. V pøípadì, e víte pøesnì, kolik èástí bude 

graf mít, je asi nejjednodušší si barvy alokovat takto konstantnì.
</p>

<h3>Hodnoty (statistické údaje)</h3>
<p>
Jak ji bylo pøedesláno, tento èlánek se nezabıvá zpùsobem, jakım si autor stránek opatøuje data k 

zobrazování. Pro demonstraci si je zadáme napevno.
</p>

<pre class="kod">  $values = Array(7,4,12,10);
  $sum = Array_Sum($values);
</pre>

<h3>Kreslení vıseèí</h3>
<p>
Pro tento úèel nám bezvadnì poslouí funkce <i>ImageFilledArc()</i> mající následující syntaxi:
</p>
<pre class="kod">  ImageFilledArc(image,x,y,width,height,start angle,final angle,color,type)
</pre>
<p>
Tato funkce zobrazí vyplnìnou vıseè elipsy (kruhu) vystøedìnou na souøadnice x,y. Start a Final angle 

urèují poèáteèní a cílovı úhel ve stupních, type má nìkolik moností (viz reference jazyka), pro naše 

úèely je z nich nejvhodnìjší IMG_ARC_PIE.<br>
Algoritmus pak ji bude jednoduchı. V kadém kroku cyklu <i>for</i> vdy vezmeme jednu hodnotu z pole 

$values a urèíme její pomìrnou velikost vzhledem k ostatním hodnotám (vzhledem k souètu všech hodnot). 

Na základì vypoèteného koeficientu urèíme snadno velikost úhlu dané vıseèe - vše se nám vejde do jedné 

trojèlenky:
</p>
<pre class="kod">  $delta=$values[$i]/$sum*360;
</pre>
<p>
  Úhel <strong>$delta</strong> urèuje tedy velikost vıseèe na základì velikosti hodnoty na pozici 

<strong>$i</strong> v poli <strong>$values</strong> vzhledem k celkovému souètu hodnot - 

<strong>$sum</strong>. Celı cyklus bude vypadat následovnì:
</p>

<pre class="kod">  $angle=0;
  $c=0;
  For ($i=0;$i&lt;Count($values);$i++)
  {
    $delta=$values[$i]/$sum*360;
    

ImageFilledArc($img,$width/2,$height/2,$width-1,$height-1,$angle,$angle+$delta,$colors[$c],IMG_ARC_PIE

);
    $angle+=$delta;
    if (++$c==Count($colors)) $c=0; /*ošetøení pøípadu, kdy by bylo více hodnot, ne alokovanıch 

barev. Barvy se pak budou opakovat...*/
  }
</pre>

<p>
Vısledek vypadá takto:
</p>
<div style="text-align: center;">
  <img alt="Ukázkovı graf (1)" src="graf_kolac_soubory/graf1.jpg">
</div>

<h3>Popisky</h3>
<p>
V takovéto podobì ovšem náš graf nemá pøíliš vysokou vypovídací hodnotu. Chybí mu jedna dosti zásadní 

vìc - èíselné (procentuální) vyjádøení velikostí vıseèí. Jedna z moností je zahrnout toto v legendì 

grafu. Druhı, podle mého pøehlednìjší postup, je zobrazit procenta pøímo u kadé vıseèe. Jediné, co k 

tomu v podstatì budeme potøebovat, jsou goniometrické funkce <i>sinus</i> a <i>cosinus</i>. 

Procentuální hodnotu spoèítáme prakticky stejnım vzorcem, jako pro velikost úhlu vıseèe, ovšem 

obohacenım o jednoduchou metodu zaokrouhlení na jedno desetinné místo. Poslední hodnotu získáme 

postupnım odeèítáním od 100%, aby odpovídal i zpìtnı souèet. Navíc bude potøeba malinko zmenšit graf 

tak, aby jsme mìli kam vepsat hodnoty. Opravenı cyklus bude tedy vypadat následovnì:
</p>

<pre class="kod">  $angle=0;
  $c=0;
  $full=100;
  $black = ImageColorAllocate($img,0,0,0);
  $piewidth = $width - 65;
  $pieheight = $height - 65;
  For ($i=0;$i&lt;Count($values);$i++)
  {
    $delta=$values[$i]/$sum*360;
    
    if ($i+1==count($values)) $val=$full;else
     $val=((int)($values[$i]/$sum*1000))/10; //vypocet zobrazovane hodnoty
       
    

ImageFilledArc($img,$width/2,$height/2,$piewidth,$pieheight,$angle,$angle+$delta,$colors[$c],IMG_ARC_P

IE);

    /*vypocet polohy retezce s prihlednutim na jeho delku*/
    $a = ($angle+$delta/2)/180*3.14;
    $ix=($piewidth)/2*cos($a)+$width/2;
    if ($ix&lt;$width/2) $ix+=cos($a)*6*strlen($val."%");
    $iy=($pieheight)/2*sin($a)+$height/2;
    if ($iy&lt;$height/2) $iy+=sin($a)*10;
    imagestring($img,2,$ix,$iy,$val."%",$black);
    $full-=$val;

    $angle+=$delta;
    if (++$c==Count($colors)) $c=0; 

  }
</pre>

<p>
A vısledek:
</p>
<div style="text-align: center;">
  <img alt="Ukázkovı graf (2)" src="graf_kolac_soubory/graf2.jpg">
</div>

<h3>Poslední vylepšení</h3>
<p>
Chcete-li graf ještì nepatrnì oivit, mùete promìnnou $angle inicializovat náhodnım èíslem v rozmezí 

0° - 360°. Pøi kadém naètení stránky bude váš graf vypadat trošku jinak...
</p>
<pre class="kod">  $angle=rand(0,359);
</pre>
<div style="text-align: center;">
  <img alt="Ukázkovı graf (3)" src="graf_kolac_soubory/graf3.jpg">
</div>
<h3>Celı kód</h3>
Pro pøehlednost uvedu radši ještì celı kód dohromady.
<pre class="kod">&lt;?
  Header("Content-type: image/jpeg");

  $width = 200;   //definice šíøky a vıšky obrázku
  $height = 200;
  $piewidth = $width - 65;
  $pieheight = $height - 65;

  $img = ImageCreate($width,$height);

  $values = Array(7,4,12,10);
  $sum = Array_Sum($values);

  
  $colors = Array(ImageColorAllocate($img,255,0,0),    //cervena
                  ImageColorAllocate($img,0,255,0),    //zelena
                  ImageColorAllocate($img,0,0,255),    //modra
                  ImageColorAllocate($img,255,255,0)   //zluta
                 );

  $white = ImageColorAllocate($img,255,255,255);
  $black = ImageColorAllocate($img,0,0,0);
  ImageFill($img,0,0,$white);

  $angle=rand(0,359);
  $c=0;
  $full=100;

  For ($i=0;$i&lt;Count($values);$i++)
  {
    $delta=$values[$i]/$sum*360;
    
    if ($i+1==count($values)) $val=$full;else
     $val=((int)($values[$i]/$sum*1000))/10; //vypocet zobrazovane hodnoty
       
    

ImageFilledArc($img,$width/2,$height/2,$piewidth,$pieheight,$angle,$angle+$delta,$colors[$c],IMG_ARC_P

IE);

    /*vypocet polohy retezce s prihlednutim na jeho delku*/
    $a = ($angle+$delta/2)/180*3.14;
    $ix=($piewidth)/2*cos($a)+$width/2;
    if ($ix&lt;$width/2) $ix+=cos($a)*6*strlen($val."%");
    $iy=($pieheight)/2*sin($a)+$height/2;
    if ($iy&lt;$height/2) $iy+=sin($a)*10;
    imagestring($img,2,$ix,$iy,$val."%",$black);
    $full-=$val;

    $angle+=$delta;
    if (++$c==Count($colors)) $c=0; 

  }

  ImageJpeg($img,"",100);
  ImageDestroy($img);
?&gt;
</pre>
<p>
  Všechny zdroje ke stáhnutí <a href="http://www.pcsvet.cz/cldata/5050/graf.zip">zde</a>.
</p>


<br>
<br>
<hr color="#777777" size="1">

<table width="100%"><tbody><tr><td valign="top">
Autor: <b>Jiøí Bìlohradskı</b>, <a href="http://www.pcsvet.cz/art/author.php?id=6393">informace o autorovi</a><br>
Rubrika: <b><a href="http://www.pcsvet.cz/php/">Programování - PHP</a></b><br>
Ètenáøù: <b>7192</b> &nbsp; &nbsp; Zobrazení: <b>8546</b><br>
<br>
<b>Související èlánky:</b><br>• <a href="http://www.pcsvet.cz/art/article.php?id=2226" title="Samozøejmostí skriptovacích jazykù je generování HTML dokumentù. Jejich monosti vıstupu však nejsou zdaleka tak omezené.">Generování obrázkù v PHP (1.)</a><br><br>

</td><td align="center">


Jak hodnotíte tento èlánek?<br><form method="post" action="article.php?id=5050"><input name="znamka" value="1" class="tlac" type="submit"> <input name="znamka" value="2" class="tlac" type="submit"> <input name="znamka" value="3" class="tlac" type="submit"> <input name="znamka" value="4" class="tlac" type="submit"> <input name="znamka" value="5" class="tlac" type="submit"><br>lepší &lt;--&gt;horší</form>

</td></tr></tbody></table>
Názory: poèet: <b>16</b> &nbsp; poslední: 20.01.2008 18:57:56 &nbsp; <a href="http://www.pcsvet.cz/forum/forum.php?art=5050" class="autor">èíst názory</a> &nbsp; <a href="http://www.pcsvet.cz/forum/forum-add.php?art=5050" class="autor">pøidat názor</a> &nbsp; <a href="http://www.pcsvet.cz/art/article_print.php?id=5050">vytisknout</a><p></p>

<a name="inquiry"></a>

<hr color="white" size="1">

<div align="center"><center><table class="ftable"><tbody><tr><td align="left"><b><i>Nadpis</i></b></td><td align="left"><b><i>Autor</i></b></td><td align="left"><b><i>Datum</i></b></td></tr><tr><td align="left"><b>Prasátko a koèièka</b></td><td align="left"><a href="mailto:ahoj@dety.biz">Pan oralej</a></td><td align="left">09.08.2004 01:29:02</td></tr><tr><td align="left">&nbsp; Re: Prasátko a koèièka</td><td align="left"><a href="mailto:ahoj@deti.biz">Pan støízlivej</a></td><td align="left">09.08.2004 01:31:35</td></tr><tr><td align="left"><b>Re: Prasátko a Koèièka</b></td><td align="left"><a href="mailto:V.Pazourek@seznam.cz">Little Genius</a></td><td align="left">09.08.2004 09:58:49</td></tr><tr><td align="left"><b>uff!</b></td><td align="left">Petr</td><td align="left">11.08.2004 01:20:34</td></tr><tr><td align="left">&nbsp; Re: uff!</td><td align="left"><a href="mailto:belohradsky.jiri@seznam.cz">Jiøí Bìlohradskı</a></td><td align="left">11.08.2004 12:58:45</td></tr><tr><td align="left"><b>JP Graph</b></td><td align="left"><a href="mailto:sladky.jiri@seznam.cz">Gregor</a></td><td align="left">11.08.2004 18:42:18</td></tr><tr><td align="left">&nbsp; Re: JP Graph</td><td align="left"><a href="mailto:belohradsky.jiri@seznam.cz">Jiøí Bìlohradskı</a></td><td align="left">11.08.2004 21:27:09</td></tr><tr><td align="left">&nbsp; &nbsp; Re: JP Graph</td><td align="left"><a href="mailto:sladky.jiri@seznam.cz">Gregor</a></td><td align="left">18.08.2004 18:34:20</td></tr><tr><td align="left"><b>Knihovny vs. Hardcore</b></td><td align="left"><a href="mailto:ddostal@centrum.cz">David</a></td><td align="left">12.08.2004 17:19:21</td></tr><tr><td align="left">&nbsp; Re: Knihovny vs. Hardcore</td><td align="left"><a href="mailto:belohradsky.jiri@seznam.cz">Jiøí Bìlohradskı</a></td><td align="left">12.08.2004 22:39:44</td></tr><tr><td align="left">&nbsp; &nbsp; Re: Knihovny vs. Hardcore</td><td align="left">Kub@z</td><td align="left">17.08.2004 20:27:40</td></tr><tr><td align="left"><b>Monosti PHP</b></td><td align="left">LADA</td><td align="left">17.08.2004 12:59:23</td></tr><tr><td align="left"><b>Malá pøipomínka</b></td><td align="left">Hommer</td><td align="left">28.12.2004 14:12:33</td></tr><tr><td align="left"><b>3D kolacove grafy</b></td><td align="left"><a href="mailto:laco.papay@gmail.com">lacop</a></td><td align="left">07.01.2005 19:26:08</td></tr><tr><td align="left"><b>Vısledky...</b></td><td align="left">-PFK-</td><td align="left">22.05.2005 15:27:38</td></tr><tr><td align="left"><b>Nefunkèní fraf v PHP5 ?</b></td><td align="left">Pája</td><td align="left">20.01.2008 18:57:56</td></tr></tbody></table></center></div>
<form method="post" action="/forum/forum-add.php?art=5050&amp;reply=&amp;tema=">
  <div align="center">
    <table class="ftable" border="0" cellpadding="2" cellspacing="0">
      <tbody><tr>
        <td colspan="2" class="ftitle">Novı pøíspìvek</td>
      </tr>
      <tr>
        <td class="fname" align="right"><b>Vìc:</b></td>
        <td class="fvalue" align="left"><input name="Nadpis" size="55" value="" type="text"></td>
      </tr>
      <tr>
        <td class="fname" align="right"><b>Jméno:</b></td>
        <td class="fvalue" align="left"><input name="Autor_Jmeno" size="30" value="" type="text"></td>
      </tr>
      <tr>
        <td class="fname" align="right"><b>E-mail:</b></td>
        <td class="fvalue" align="left"><input name="Autor_Email" size="20" value="" type="text"></td>
      </tr>
      <tr>
        <td colspan="2" class="fvalue" align="left"><textarea rows="10" name="Obsah" cols="70"></textarea><br>
		  - nepouívejte HTML k formátování textu pøíspìvku<br>
		  - nepouívejte A HREF= pro odkazy, aktivní budou automaticky<br>
		  - odøádkování provádìjte klávesou ENTER, nikoliv tagem &lt;br&gt;</td>
      </tr>
      <tr>
        <td colspan="2" class="fvalue" align="left"><input class="ftable" style="border: medium none ;" name="MailReply" value="1" type="checkbox">zasílat
          odpovìdi na mùj e-mail      </td>
</tr>
      <tr>
        <td colspan="2" align="center">
          Opište text z obrázku: <input name="Kod" value="" class="f_name" size="8" type="text"> <img src="graf_kolac_soubory/captcha.htm" height="50" width="200"></td>
      </tr>
      <tr>
        <td colspan="2" align="center">
          <input value="Pøidat pøíspìvek" class="fsubmit" type="submit"></td>
      </tr>
    </tbody></table>
  </div>
  <input name="filled" value="1" type="hidden">
</form>

<br><br><br><br><br><br><br><br>
<div align="center">
<center>
<table border="0">
<tbody><tr><td>
<iframe src="graf_kolac_soubory/p-banner.htm" style="border: medium none ;" frameborder="0" height="60" scrolling="no" width="468">
</iframe>
<br><br>
  <iframe name="rekl2" src="graf_kolac_soubory/2.htm" marginwidth="1" marginheight="1" frameborder="0" height="62" scrolling="no" width="472"></iframe>
</td>
</tr>
</tbody></table>
</center>
</div>
<br><br><br>
<center><span style="font-size: 9px;">(c) P.E.S. consulting, s.r.o.
2000-2005. Provozovatel nezodpovídá za obsah a pùvod èlánkù a
diskuzních pøíspìvkù, odpovìdnost nesou jednotliví redaktoøi a autoøi.
Informace o PC Svìtì <a href="http://www.pcsvet.cz/informace.php">naleznete zde</a></span></center> 
</td>
<td bgcolor="white" width="10"></td>
<td align="right" bgcolor="white" valign="top" width="160">

<br><center>
<center><a href="http://www.forpsi.com/" target="_blank"><img src="graf_kolac_soubory/125x125.gif" alt="FORPSI.com - webhosting, serverhosting, registrace domén, dedikované servery" border="0"></a></center>



<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td colspan="3" height="6" width="180"></td></tr><tr><td align="left" valign="top" width="15"><img src="graf_kolac_soubory/7-tab-1.gif" alt=""></td><td align="left" background="graf_kolac_soubory/7-tab-2.gif" valign="bottom" width="165"><font class="tab-nadpis">
Anketa
</font></td></tr></tbody></table>
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td align="left" valign="top" width="5"><img src="graf_kolac_soubory/7-tab-3.gif" alt=""></td><td align="left" width="175">
<table class="tab" border="0" cellpadding="3" cellspacing="0"><tbody><tr><td bgcolor="white">
</td></tr></tbody></table>
</td></tr>
</tbody></table>

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td colspan="3" height="6" width="180"></td></tr><tr><td align="left" valign="top" width="15"><img src="graf_kolac_soubory/7-tab-1.gif" alt=""></td><td align="left" background="graf_kolac_soubory/7-tab-2.gif" valign="bottom" width="165"><font class="tab-nadpis">
Novinky e-mailem
</font></td></tr></tbody></table>
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td align="left" valign="top" width="5"><img src="graf_kolac_soubory/7-tab-3.gif" alt=""></td><td align="left" width="175">
<table class="tab" border="0" cellpadding="3" cellspacing="0"><tbody><tr><td bgcolor="white">
<form method="get" action="/user/register.php">
<input name="email" size="16" value="vas@email.cz" onclick="this.value='';" type="text"><input value="ok" type="submit">
Zasílání denního nebo tıdenního pøehledu novıch èlánkù
</form>
</td></tr></tbody></table>
</td></tr>
</tbody></table>

<hr size="1">
<iframe name="rekl2" src="graf_kolac_soubory/3.htm" marginwidth="1" marginheight="1" align="middle" frameborder="0" height="127" scrolling="no" width="127"></iframe>
<hr size="1">
<br><center>
<center><a href="http://www.forpsi.com/" target="_blank"><img src="graf_kolac_soubory/125X125_evrop_dom_a_web.gif" alt="FORPSI.com - webhosting, serverhosting, registrace domén, dedikované servery" border="0"></a></center>


<br><br>
<a href="http://www.pravnik.cz/" target="_blank">Právník.cz - obèanské, rodinné, pracovní, obchodní a jiné právo, smluvní vzory, úplná znìní</a>

<br><br><br><br><br>

<center>
</center>


</center></center></td>


</tr>
</tbody></table>



</td>
</tr>

</tbody></table>


<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr><td background="graf_kolac_soubory/7.gif" width="15"></td><td bgcolor="white" width="150"></td><td width="68"><img src="graf_kolac_soubory/7-pat-1.gif" alt=""></td><td background="graf_kolac_soubory/7-pat-2.gif" bgcolor="white" valign="bottom" width="360">© 2000-2004 pcsvìt.cz / <a href="mailto:pcsvet@pcsvet.cz">pcsvet@pcsvet.cz</a> / ISSN 1213-6042</td><td bgcolor="white"><a href="#top" onmouseover="topoff.src=topon.src; window.status='nahoru';return true;" onmouseout="topoff.src='/images/7-pat-top-off.gif'; window.status='pcsvìt';return true;"><img name="topoff" src="graf_kolac_soubory/7-pat-top-off.gif" alt="" border="0"></a></td></tr>
</tbody></table>

</td><td background="graf_kolac_soubory/8-1.gif" valign="top" width="13"><img src="graf_kolac_soubory/8-2.gif" alt=""></td></tr>
</tbody></table>

<!-- Poèítadlo.cz  poèítadlo:527  uivatel:414 -->
<script language="JavaScript" type="text/javascript">
<!--
Tmp=Math.floor(1000000 * Math.random());
//document.write("<scr" + "ipt src=\"http://cnt1.pocitadlo.cz/counter.php?poc=527&ref="+escape(top.document.referrer)+"&depth="+screen.colorDepth+"&width="+screen.width+"&height="+screen.height+"&tmp="+Tmp+"\" language=\"JavaScript\" type=\"text/javascript\"></scr" + "ipt>");
// -->
</script>
<noscript>
<img src="http://cnt1.pocitadlo.czx/counter.php?poc=527&amp;ns=1" width="1" height="1" alt="" border="0">
</noscript>
<!-- Poèítadlo.cz konec -->

<!-- NAVRCHOLU.cz -->
<script language="JavaScript" type="text/javascript">
<!--
pxDepth = screen.pixelDepth;
if (!(pxDepth > 0))
	pxDepth = screen.colorDepth;
if (!(pxDepth > 0))
	pxDepth = 0; 
document.write("<img src=\"http://hit.navrcholu.cz/hit?id=3548;n=1;screenx=" + screen.width + ";screeny=" + screen.height + ";cdepth=" + pxDepth + ";ref=" + escape(top.document.referrer) + "\" width=\"1\" height=\"1\" alt=\"\">");
// -->
</script><img src="graf_kolac_soubory/hit" alt="" height="1" width="1">
<noscript>
<img src="http://hit.navrcholu.cz/hit?id=3548;n=1" width="1" height="1" alt="" border="0">
</noscript>
<!-- NAVRCHOLU.cz - konec -->

<script src="graf_kolac_soubory/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1217921-1";
urchinTracker();
</script>

<div style="position: absolute; left: 870px; top: 181px; z-index: 1000000000 ! important; visibility: hidden; opacity: 1; width: 0px;" id="linkalert-box"><img style="width: 0px;" src="graf_kolac_soubory/none-icon.png" id="linkalert-icon-1"></div></body></html>