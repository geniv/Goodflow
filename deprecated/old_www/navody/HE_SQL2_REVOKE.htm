<!doctype html public "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1250">
<title>Pøíkaz REVOKE (SQL)</title>
<link rel='stylesheet' style='text/css' href='../function.css'>
</head>

<body bgcolor="#FFFFFF" text="#000000"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
	<td style="background-image: url(../images/bghead.jpg);
		background-position: right;
		background-repeat: no-repeat;">
	<table width="100%" border="0" cellpadding="0" cellspacing="0"
		style="background-image:none">
	<tr>
		<td style="background-image:none" height="46"
			width="15%"><img src="../images/title-cz.gif"
			width="255" height="33"
			alt="602SQL-Úplná dokumentace"
			title="602SQL - Úplná dokumentace"
			border="0"></td>
		<td width="33%" align="right"><a href="../xml/html/top.html"><img class="floatno"
			src="../images/index.gif"
			width="15" height="16"
			alt="Index" title="Zpìt na obsah"
			border="0" vspace="2"></a> &nbsp;
			 </td>
	</tr>
	</table>
	</td>
</tr>
</table><table class="navigace" border="0" width="100%"  bgcolor="#FFFFBF"><tr> <td
width="20" align="center"><img class="floatno" src="../images/prev.gif"
width="15" height="13" alt="&lt;&shy;" title="Pøedcházející téma"
border="0"></td><td width="25%"><a
href="HE_SQL2_GRANT.htm">Pøíkaz GRANT</a></td> <td width="25%"
align="right"><img class="floatno" src="../images/up.gif" width="13"
height="15" alt="Nahoru" title="O jednu úroveò výš" border="0"
align="middle"></td><td width="25%"><a href="HE_SQL2_PRIKAZY.htm">SQL pøíkazy</a></td>
<td width="25%" align="right"><a
href="HE_SQL2_UPDATE.htm">Pøíkaz UPDATE</a></td><td width="20"
align="center"><img class="floatno" src="../images/next.gif" width="15"
height="13" alt="&shy;&gt;" title="Následující téma" border="0"></td>
</tr></table>




<h1><a name="he_sql2_revoke"></a>Pøíkaz REVOKE (SQL)</h1>

<pre><code>pøíkaz_REVOKE ::= pøíkaz_REVOKE_pro_tabulky | pøíkaz_REVOKE_pro_rutiny

pøíkaz_REVOKE_pro_tabulky ::= REVOKE [ GRANT OPTION FOR ] výèet_práv ON [schema.]jméno_tabulky 
    FROM seznam_subjektù [ WHERE podmínka_where ]
výèet_práv ::= ALL [ PRIVILEGES ] | jednotlivé_právo {, jednotlivé_právo }…
jednotlivé_právo ::=  DELETE | INSERT | SELECT | UPDATE [( seznam_sloupcù )] 
    | REFERENCES [( seznam_sloupcù ) | GRANT ]
seznam_sloupcù ::= sloupec { , sloupec }…
seznam_subjektù ::= PUBLIC | subjekt {, subjekt }…
subjekt ::= [ USER ] jméno_uživatele | [ GROUP ] jméno_role | ROLE [schéma. ] jméno_role

pøíkaz_REVOKE_pro_rutiny ::= REVOKE [ GRANT OPTION FOR ] výèet_práv ON [ PROCEDURE | FUNCTION ] 
    [schema.]jméno_rutiny FROM seznam_subjektù
výèet_práv ::= ALL [ PRIVILEGES ] | jednotlivé_právo {, jednotlivé_právo }…
jednotlivé_právo ::= EXECUTE | UPDATE </code></pre>

<p><strong>Popis</strong></p>

<p><a href="HE_SQL2_PRIKAZY.htm">Pøíkaz</a> REVOKE odebere pro uživatele, skupiny uživatelù nebo role urèené v <i>seznamu_subjektù</i> <a href="../xml/html/userinfo.html">práva</a> k:

<ul>
	<li>tabulce <i>jméno_tabulky</i> v aplikaci <i>schema</i></li>
	<li>vybraným záznamùm tabulky <i>jméno_tabulky</i> </li>
	<li>SQL rutinì <i>jméno_rutiny</i> (proceduøe èi funkci) </li>
</ul>

<p>Pro možný konflikt jména tabulky a jména <a href="HE_SQL2_STOREDPROCEDURE.htm">rutiny</a> je rozumné rutiny odlišit slovem PROCEDURE nebo FUNCTION. </p>

<p>Mají-li se odebrat práva k jednotlivým záznamùm (tzv. <a href="../xml/html/rightrecdat.html">záznamová práva</a>), musí se použít klauzule WHERE s omezující podmínkou na záznamy tabulky <i>jméno_tabulky</i> a souèasnì tabulka musí mít tato práva povolena (pøi návrhu tabulky).</p>

<p>Ve <i>výètu_práv</i> definujete, jaká práva se mají odebrat. Použijete-li slovo ALL, odeberou se všechna možná práva k tabulce. Chcete-li odebrat pouze nìkterá práva, jednotlivì je vypíšete a oddìlíte èárkami. K dispozici jsou pro tabulky tato práva:

<ul>
	<li>DELETE - právo rušit záznamy;</li>
	<li>INSERT - právo vkládat záznamy;</li>
	<li>SELECT - právo èíst všechny sloupce;</li>
	<li>REFERENCES - právo èíst pouze nìkteré sloupce specifikované v <i>seznamu_sloupcù</i>. Není-li <i>seznam_sloupcù</i> uveden, právo èíst platí pro všechny sloupce (totéž co SELECT);</li>
	<li>UPDATE - právo pøepisovat jednotlivé sloupce specifikované v <i>seznamu_sloupcù</i>. Není-li <i>seznam_sloupcù</i> uveden, právo pøepisovat platí pro všechny sloupce.</li>
	<li>GRANT - právo poskytnout svá práva dalším subjektùm.</li>
</ul>

<p>Pro záznamová práva není k dispozici právo INSERT.</p>

<p>Pro rutiny je výèet práv jednodušší:

<ul>
	<li>UPDATE - právo pøepisovat definici objektu;</li>
	<li>EXECUTE - právo spouštìt rutinu.</li>
</ul>

<p>V <i>seznamu_subjektù</i> urèujete, koho (jakých <a href="../xml/html/userinfo.html">subjektù práva</a>) se odebrání práv týká. Použijete-li slovo PUBLIC, práva se odeberou skupinì EVERYBODY. V jiném pøípadì se odeberou tìm uživatelùm, skupinám a rolím, které jsou uvedeny jmenovitì. Použijete-li jméno skupiny uživatelù (již definované na serveru), odeberou se práva této skupinì, tzn. že uživatelé v ní zaøazení práva ztratí automaticky (pokud je nemají pøidìlena explicitnì). Pokud u subjektu práva není uvedeno USER, GROUP ani ROLE, pak se jeho jméno hledá nejprve mezi uživateli, pak mezi skupinami.</p>

<p>Uvede-li se klauzule GRANT OPTION FOR, pak uživatelé a skupiny ztratí možnost svá práva poskytovat dalším uživatelùm (totéž co GRANT ve <i>výètu_práv</i>).</p>

<br><p><strong>Pøíklad použití:</strong></p>

<p>Všem uživatelùm zabraòte v mazání záznamù a editaci èísla pracovníka a jeho platu.</p>

<pre><code>REVOKE DELETE, UPDATE (Plat, Cislo)
ON Zamestan
FROM PUBLIC</code></pre>

<p><strong>Viz</strong></p>

<ul class='viz'>
<li><a href="HE_SQL2_GRANT.htm">GRANT</a>
<li><a href="HE_SQL2_PRAVA.htm">Práva a subjekty práva v SQL</a>
</ul>





<table class="navigace" border="0" width="100%"  bgcolor="#FFFFBF"><tr> <td
width="20" align="center"><img class="floatno" src="../images/prev.gif"
width="15" height="13" alt="&lt;&shy;" title="Pøedcházející téma"
border="0"></td><td width="25%"><a
href="HE_SQL2_GRANT.htm">Pøíkaz GRANT</a></td> <td width="25%"
align="right"><img class="floatno" src="../images/up.gif" width="13"
height="15" alt="Nahoru" title="O jednu úroveò výš" border="0"
align="middle"></td><td width="25%"><a href="HE_SQL2_PRIKAZY.htm">SQL pøíkazy</a></td>
<td width="25%" align="right"><a
href="HE_SQL2_UPDATE.htm">Pøíkaz UPDATE</a></td><td width="20"
align="center"><img class="floatno" src="../images/next.gif" width="15"
height="13" alt="&shy;&gt;" title="Následující téma" border="0"></td>
</tr></table>
</body>
</html>
