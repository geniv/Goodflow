<!doctype html public "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1250">
<title>Pøíkaz GRANT (SQL)</title>
<link rel='stylesheet' style='text/css' href='../function.css'>
</head>

<body bgcolor="#FFFFFF" text="#000000"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
	<td style="background-image: url(../images/bghead.jpg);
		background-position: right;
		background-repeat: no-repeat;">
	<table width="100%" border="0" cellpadding="0" cellspacing="0"
		style="background-image:none">
	<tr>
		<td style="background-image:none" height="46"
			width="15%"><img src="../images/title-cz.gif"
			width="255" height="33"
			alt="602SQL-Úplná dokumentace"
			title="602SQL - Úplná dokumentace"
			border="0"></td>
		<td width="33%" align="right"><a href="../xml/html/top.html"><img class="floatno"
			src="../images/index.gif"
			width="15" height="16"
			alt="Index" title="Zpìt na obsah"
			border="0" vspace="2"></a> &nbsp;
			 </td>
	</tr>
	</table>
	</td>
</tr>
</table><table class="navigace" border="0" width="100%"  bgcolor="#FFFFBF"><tr> <td
width="20" align="center"><img class="floatno" src="../images/prev.gif"
width="15" height="13" alt="&lt;&shy;" title="Pøedcházející téma"
border="0"></td><td width="25%"><a
href="../xml/html/sql_rename.html">Pøíkaz RENAME</a></td> <td width="25%"
align="right"><img class="floatno" src="../images/up.gif" width="13"
height="15" alt="Nahoru" title="O jednu úroveò výš" border="0"
align="middle"></td><td width="25%"><a href="HE_SQL2_PRIKAZY.htm">SQL pøíkazy</a></td>
<td width="25%" align="right"><a
href="HE_SQL2_REVOKE.htm">Pøíkaz REVOKE</a></td><td width="20"
align="center"><img class="floatno" src="../images/next.gif" width="15"
height="13" alt="&shy;&gt;" title="Následující téma" border="0"></td>
</tr></table>




<h1><a name="he_sql2_grant"></a>Pøíkaz GRANT (SQL)</h1>

<pre><code>pøíkaz_GRANT ::= pøíkaz_GRANT_pro_tabulky | pøíkaz_GRANT_pro_rutiny

pøíkaz_GRANT_pro_tabulky ::= GRANT výèet_práv ON [schema.]jméno_tabulky TO seznam_subjektù 
    [ WITH GRANT OPTION ] [ WHERE podmínka_where ]
výèet_práv ::= ALL [ PRIVILEGES ] | jednotlivé_právo {, jednotlivé_právo }…
jednotlivé_právo ::=  DELETE | INSERT | SELECT | UPDATE [( seznam_sloupcù )] 
    | REFERENCES [( seznam_sloupcù ) | GRANT ]
seznam_sloupcù ::= sloupec { , sloupec }…
seznam_subjektù ::= PUBLIC | subjekt {, subjekt }…
subjekt ::= [ USER ] jméno_uživatele | [ GROUP ] jméno_role | ROLE [schéma. ] jméno_role

pøíkaz_GRANT_pro_rutiny ::= GRANT výèet_práv ON [ PROCEDURE | FUNCTION ] [schema.]jméno_rutiny 
    TO seznam_subjektù [ WITH GRANT OPTION ]
výèet_práv ::= ALL [ PRIVILEGES ] | jednotlivé_právo {, jednotlivé_právo }…
jednotlivé_právo ::= EXECUTE | UPDATE </code></pre>

<p><strong>Popis</strong></p>

<p><a href="HE_SQL2_PRIKAZY.htm">Pøíkaz</a> GRANT nastaví pro uživatele, skupiny uživatelù a role urèené v <i>seznamu_subjektù</i> <a href="../xml/html/userinfo.html">práva</a> k:

<ul>
	<li>tabulce <i>jméno_tabulky</i> v aplikaci <i>schema</i></li>

	<li>vybraným záznamùm tabulky <i>jméno_tabulky</i> </li>

	<li>SQL rutinì <i>jméno_rutiny</i> (proceduøe èi funkci) </li>
</ul>

<p>Pro možný konflikt jména tabulky a jména <a href="HE_SQL2_STOREDPROCEDURE.htm">rutiny</a> je rozumné rutiny odlišit slovem PROCEDURE nebo FUNCTION. </p>

<p>Mají-li se nastavovat práva k jednotlivým záznamùm (tzv. <a href="../xml/html/rightrecdat.html">záznamová práva</a>), musí se použít klauzule WHERE s omezující podmínkou na záznamy tabulky <i>jméno_tabulky</i> a souèasnì tabulka musí mít tato práva povolena (pøi návrhu tabulky).</p>

<p>Ve <i>výètu_práv</i> definujete, jaká práva se mají nastavit. Použijete-li slovo ALL, nastaví se všechna možná práva. Chcete-li nastavit pouze nìkterá práva, jednotlivì je vypíšete a oddìlíte èárkami. K dispozici jsou pro tabulky tato práva:

<ul>
	<li>DELETE - právo rušit záznamy;</li>
	<li>INSERT - právo vkládat záznamy;</li>
	<li>SELECT - právo èíst všechny sloupce;</li>
	<li>REFERENCES - právo èíst pouze nìkteré sloupce specifikované v <i>seznamu_sloupcù</i>. Není-li <i>seznam_sloupcù</i> uveden, právo èíst platí pro všechny sloupce (totéž co SELECT);</li>
	<li>UPDATE - právo pøepisovat jednotlivé sloupce specifikované v <i>seznamu_sloupcù</i>. Není-li <i>seznam_sloupcù</i> uveden, právo pøepisovat platí pro všechny sloupce.</li>
	<li>GRANT - právo poskytnout svá práva dalším subjektùm.</li>
</ul>

<p>Pro záznamová práva není k dispozici právo INSERT.</p>

<p>Pro rutiny je výèet práv jednodušší:

<ul>
	<li>UPDATE - právo pøepisovat definici objektu;</li>
	<li>EXECUTE - právo spouštìt rutinu.</li>
</ul>

<p>V <i>seznamu_subjektù</i> urèujete, koho (jakých <a href="../xml/html/userinfo.html">subjektù práva</a>) se nastavení práv týká. Použijete-li slovo PUBLIC, práva se nastaví pro skupinu EVERYBODY. V jiném pøípadì se nastaví tìm uživatelùm, skupinám nebo rolím, kteøí jsou uvedeni jmenovitì. Použijte-li jméno skupiny uživatelù (již definované na serveru), nastaví se práva této skupinì, tzn. že uživatelé v ní zaøazení práva dìdí automaticky. Pokud u subjektu práva není uvedeno USER, GROUP ani ROLE, pak se jeho jméno hledá nejprve mezi uživateli, pak mezi skupinami.</p>

<p>Pokud subjekt má již urèitá práva, pak práva uvedená v pøíkazu GRANT se k nim pøidají.</p>

<p>Uvede-li se klauzule WITH GRANT OPTION, pak uživatelé a skupiny získají možnost svá práva poskytovat dalším uživatelùm (totéž co GRANT ve <i>výètu_práv</i>).</p>

<p>V souèasné verzi není možné pøíkazem GRANT nastavovat práva k objektùm (výjimku tvoøí procedury).</p>

<p><strong>Pøíklad použití:</strong></p>

<p>Dejte uživateli PETR právo mazat záznamy a editovat èíslo pracovníka a jeho plat, všechna práva k jednomu vybranému záznamu tabulky DocTab a právo spouštìt proceduru ZmenaCeniku.</p>

<pre><code>GRANT DELETE, UPDATE (Plat, Cislo)
ON Zamestan
TO Petr</code></pre>

<pre><code>GRANT ALL ON DocTab
TO USER Petr
WHERE id=25</code></pre>

<pre><code>GRANT EXECUTE
ON PROCEDURE ZmenaCeniku
TO Petr</code></pre>

<p><strong>Viz</strong></p>

<ul class='viz'>
<li><a href="HE_SQL2_REVOKE.htm">REVOKE</a>
<li><a href="HE_SQL2_PRAVA.htm">Práva a subjekty práva v SQL</a>
</ul>



<table class="navigace" border="0" width="100%"  bgcolor="#FFFFBF"><tr> <td
width="20" align="center"><img class="floatno" src="../images/prev.gif"
width="15" height="13" alt="&lt;&shy;" title="Pøedcházející téma"
border="0"></td><td width="25%"><a
href="../xml/html/sql_rename.html">Pøíkaz RENAME</a></td> <td width="25%"
align="right"><img class="floatno" src="../images/up.gif" width="13"
height="15" alt="Nahoru" title="O jednu úroveò výš" border="0"
align="middle"></td><td width="25%"><a href="HE_SQL2_PRIKAZY.htm">SQL pøíkazy</a></td>
<td width="25%" align="right"><a
href="HE_SQL2_REVOKE.htm">Pøíkaz REVOKE</a></td><td width="20"
align="center"><img class="floatno" src="../images/next.gif" width="15"
height="13" alt="&shy;&gt;" title="Následující téma" border="0"></td>
</tr></table>
</body>
</html>
