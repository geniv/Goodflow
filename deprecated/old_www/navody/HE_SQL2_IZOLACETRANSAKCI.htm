<!doctype html public "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1250">
<title>Izolace transakcí v SQL</title>
<link rel='stylesheet' style='text/css' href='../function.css'>
</head>

<body bgcolor="#FFFFFF" text="#000000"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
	<td style="background-image: url(../images/bghead.jpg);
		background-position: right;
		background-repeat: no-repeat;">
	<table width="100%" border="0" cellpadding="0" cellspacing="0"
		style="background-image:none">
	<tr>
		<td style="background-image:none" height="46"
			width="15%"><img src="../images/title-cz.gif"
			width="255" height="33"
			alt="602SQL-Úplná dokumentace"
			title="602SQL - Úplná dokumentace"
			border="0"></td>
		<td width="33%" align="right"><a href="../xml/html/top.html"><img class="floatno"
			src="../images/index.gif"
			width="15" height="16"
			alt="Index" title="Zpìt na obsah"
			border="0" vspace="2"></a> &nbsp;
			 </td>
	</tr>
	</table>
	</td>
</tr>
</table><table class="navigace" border="0" width="100%"  bgcolor="#FFFFBF">
		  <tr>
					 <td width="20" align="center">&nbsp;</td>
					 <td width="25%">&nbsp;</td>
					 <td width="25%"
align="right"><img class="floatno" src="../images/up.gif" width="13"
height="15" alt="Nahoru" title="O jednu úroveò vıš" border="0"
align="middle"></td><td width="25%"><a href="HE_SQL2_TRANSAKCE.htm">Transakce a body návratu</a></td>
<td width="25%" align="right"><a
href="../xml/html/lockizol.html">Problémy pøi kombinaci explicitního zamykání záznamù a izolace transakcí</a></td><td width="20"
align="center"><img class="floatno" src="../images/next.gif" width="15"
height="13" alt="&shy;&gt;" title="Následující téma" border="0"></td>
</tr></table>





<h1><a name="he_sql2_izolacetransakci"></a>Izolace transakcí (SQL)</h1>

<p>Klient databázového serveru mùe nastavit stupeò izolace vlastních transakcí od <a href="HE_SQL2_TRANSAKCE.htm">transakcí</a> provádìnıch jinımi klienty. Izolace transakcí urèuje, v&nbsp;jaké míøe se mohou zmìny v&nbsp;databázi soubìnì provádìné rùznımi klienty navzájem ovlivòovat.</p>

<p>Stupnì izolace transakcí jsou definovány svojí schopností bránit vzniku tøí fenoménù, k&nbsp;nim by pøi soubìné práci klientù A a B mohlo docházet:</p>

<p>Fenomén <b>DIRTY READ</b>: Klient A provede zmìnu dat a prozatím neukonèí transakci. Klient B pøeète tato zmìnìná data. Poté klient A odvolá svou transakci. Klient B tedy pøeèetl data, která nikdy nebyla potvrzena.</p>

<p>Fenomén <b>NON-REPEATABLE READ</b>: Klient A pøeète data a prozatím neukonèí transakci. Klient B zmìní nebo zruší tato data a ukonèí svou transakci. Klient A ve své transakci znovu ète stejná data a nenajde je.</p>

<p>Fenomén <b>PHANTOM</b>: Klient A poloí dotaz, pøeète odpovìï na nìj a prozatím neukonèí transakci. Klient B vloí do databáze další øádky vyhovující podmínkám v&nbsp;dotazu klienta A a ukonèí svou transakci. Klient A ve své transakci znovu poloí stejnı dotaz a obdrí jinou odpovìï.</p>

<p>Jednotlivé stupnì izolace transakcí jsou definovány takto:</p>

<table cols=4 border=1>

<tr valign="top">
<td>Stupeò izolace / fenomén</td>
<td><b>DIRTY READ</b></td>
<td><b>NON-REPEATABLE READ</b></td>
<td><b>PHANTOM</b></td>
</tr>

<tr valign="top">
<td><b>READ UNCOMMITTED</b></td>
<td>mùe nastat</td>
<td>mùe nastat</td>
<td>mùe nastat</td>
</tr>

<tr valign="top">
<td><b>READ COMMITTED</b></td>
<td>nemùe nastat</td>
<td>mùe nastat</td>
<td>mùe nastat</td>
</tr>

<tr valign="top">
<td><b>REPEATABLE READ</b></td>
<td>nemùe nastat</td>
<td>nemùe nastat</td>
<td>mùe nastat</td>
</tr>

<tr valign="top">
<td><b>SERIALIZABLE</b></td>
<td>nemùe nastat</td>
<td>nemùe nastat</td>
<td>nemùe nastat</td>
</tr>
</table><br>

<p>Stupeò izolace SERIALIZABLE zaruèuje, e soubìné transakce budou mít stejnı efekt, jako by byly provedeny po sobì. Zároveò však sniuje schopnost serveru provádìt akce soubìnì, tudí mùe sníit propustnost serveru, pokud více klientù pracuje se stejnımi daty. Zároveò se velmi zvıší poèty <a href="../xml/html/waiting.html">doèasnıch zámkù</a> na pøeètenıch datech.</p>

<p>
Pro explicitní transakce platí: 
<ul>
<li>stupeò izolace transakce se nastavuje pro kadou transakci zvláš;</li>
<li>stupeò izolace lze nastavit pøi zahájení transakce pøíkazem <a href="HE_SQL2_STARTTRANSACTION.htm">START TRANSACTION</a> nebo v dobì mezi zahájením a ukonèením transakce pøíkazem <a href="HE_SQL2_SETTRANSACTION.htm">SET TRANSACTION</a>;</li>
<li>není-li stupeò izolace zvolen, pouije se SERIALIZABLE.</li>
</ul>
Pro implicitní transakce platí:
<ul>
<li>pro jednotlivé implicitní transakce není jak nastavovat stupeò izolace transakce;</li>
<li>jako stupeò izolace se pouije ten stupeò, se kterım byla provádìna pøedchozí (explicitní èi implicitní) transakce;</li>
<li>není-li moné pouít pøedchozí pravidlo, nastaví se pøi READ COMMITTED.</li>

</ul></p>

<p>Internì SQL server 602SQL implementuje pouze stupnì izolace READ COMMITTED a SERIALIZABLE. Pøi nastavení READ UNCOMMITTED se vnitønì nastaví READ COMMITTED, pøi nastavení REPEATABLE READ se vnitønì nastaví SERIALIZABLE. Toto chování je plnì v&nbsp;souladu s&nbsp;normou.</p>




<table class="navigace" border="0" width="100%"  bgcolor="#FFFFBF">
		  <tr>
					 <td width="20" align="center">&nbsp;</td>
					 <td width="25%">&nbsp;</td>
					 <td width="25%"
align="right"><img class="floatno" src="../images/up.gif" width="13"
height="15" alt="Nahoru" title="O jednu úroveò vıš" border="0"
align="middle"></td><td width="25%"><a href="HE_SQL2_TRANSAKCE.htm">Transakce a body návratu</a></td>
<td width="25%" align="right"><a
href="../xml/html/lockizol.html">Problémy pøi kombinaci explicitního zamykání záznamù a izolace transakcí</a></td><td width="20"
align="center"><img class="floatno" src="../images/next.gif" width="15"
height="13" alt="&shy;&gt;" title="Následující téma" border="0"></td>
</tr></table>

</body>
</html>
