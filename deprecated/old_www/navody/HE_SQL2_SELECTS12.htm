<!doctype html public "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1250">
<title>Sbírka dotazù str. 12</title>
<link rel='stylesheet' style='text/css' href='../function.css'>
</head>

<body bgcolor="#FFFFFF" text="#000000"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
	<td style="background-image: url(../images/bghead.jpg);
		background-position: right;
		background-repeat: no-repeat;">
	<table width="100%" border="0" cellpadding="0" cellspacing="0"
		style="background-image:none">
	<tr>
		<td style="background-image:none" height="46"
			width="15%"><img src="../images/title-cz.gif"
			width="255" height="33"
			alt="602SQL-Úplná dokumentace"
			title="602SQL - Úplná dokumentace"
			border="0"></td>
		<td width="33%" align="right"><a href="../xml/html/top.html"><img class="floatno"
			src="../images/index.gif"
			width="15" height="16"
			alt="Index" title="Zpìt na obsah"
			border="0" vspace="2"></a> &nbsp;
			 </td>
	</tr>
	</table>
	</td>
</tr>
</table><table class="navigace" border="0" width="100%"  bgcolor="#FFFFBF"><tr> <td
width="20" align="center"><img class="floatno" src="../images/prev.gif"
width="15" height="13" alt="&lt;&shy;" title="Pøedcházející téma"
border="0"></td><td width="25%"><a
href="HE_SQL2_SELECTS11.htm">Strana 11 (SELECT subdotaz, COUNT DISTINCT)</a></td> <td width="25%"
align="right"><img class="floatno" src="../images/up.gif" width="13"
height="15" alt="Nahoru" title="O jednu úroveò výš" border="0"
align="middle"></td><td width="25%"><a href="HE_SQL2_SELECTS.htm">Sbírka pøíkladù SQL dotazù</a></td>
<td width="25%" align="right"><a
href="HE_SQL2_SELECTS13.htm">Strana 13 (UNION, subdotaz)</a></td><td width="20"
align="center"><img class="floatno" src="../images/next.gif" width="15"
height="13" alt="&shy;&gt;" title="Následující téma" border="0"></td>
</tr></table>


<h1><a name="he_sql2_selects12"></a>Sbírka dotazù – str. 12</h1>

<p><b>Pøíklad 20</b></p>

<p><b>Zadání:</b> Mìjme tabulky FAKTURY a FAKT_2 a v&nbsp;nich data z&nbsp;let 1998 a 1997. Vypište faktury odbìratelù z&nbsp;dvou mìsícù na pøelomu roku 1997.</p>

<p><b>Popis øešení: </b>Úloha vyžaduje spojení dat ze dvou tabulek, nikoli však na základì relaèního vztahu, nýbrž pouhým pøidáním záznamù za sebe. Sjednocení více tabulek sice <b>602SQL</b> pomocí SQL umí vytvoøit, nicménì tato operace není ani obvyklá ani èastá. Není proto ani implementována do interaktivního návrháøe. Pokud chcete tabulky sjednotit, musíte zapsat pøíkaz SQL pøímo v&nbsp;jeho textové podobì. Obì èásti dotazu spojte klíèovým slovem UNION a výsledek mùžete setøídit sestupnì podle data.</p>

<p><b>SQL:</b> </p>

<pre><code>  SELECT *
  FROM Fakt_2
  WHERE dat1 &gt; 30.11.1997
     UNION
  SELECT *
  FROM Faktury
  WHERE dat1 &lt; 1.2.1998
  ORDER BY dat1 DESC</code></pre>

<p><b>Poznámky:</b> </p>

<p><b>a)</b> Obì èásti sjednocení musí mít v&nbsp;èásti SELECT položky stejných typù.</p>

<p><b>b)</b> Setøídìní se týká obou èástí dotazu, tøídit jednotlivé èásti pøed sjednocením nelze.</p>

<p><b>c)</b> Použitím <code>UNION</code> (bez <code>ALL</code>) øíkáte, že každý záznam bude ve výsledku nejvýše jednou (duplicity budou vylouèeny).</p>

<p><b>d)</b> Není-li tøeba zajistit, aby ve výsledku byl každý záznam jen jednou (jako v tomto pøípadì), použijte klauzuli <code>UNION ALL</code>, která výraznì zrychlí vyhodnocení. Mají-li však obì èásti UNIONu neprázdný prùnik, je tøeba použití <code>ALL</code> zvažovat - napø. pro výpis je vhodná unikátnost záznamù, ale je-li tento dotaz napø. zdrojem pro další databázovou operaci, mùže být rychlejší sestavit dotaz s duplicitami a pro nì provést operaci dvakrát než vyhodnocovat unikátnost.</p>



<table class="navigace" border="0" width="100%"  bgcolor="#FFFFBF"><tr> <td
width="20" align="center"><img class="floatno" src="../images/prev.gif"
width="15" height="13" alt="&lt;&shy;" title="Pøedcházející téma"
border="0"></td><td width="25%"><a
href="HE_SQL2_SELECTS11.htm">Strana 11 (SELECT subdotaz, COUNT DISTINCT)</a></td> <td width="25%"
align="right"><img class="floatno" src="../images/up.gif" width="13"
height="15" alt="Nahoru" title="O jednu úroveò výš" border="0"
align="middle"></td><td width="25%"><a href="HE_SQL2_SELECTS.htm">Sbírka pøíkladù SQL dotazù</a></td>
<td width="25%" align="right"><a
href="HE_SQL2_SELECTS13.htm">Strana 13 (UNION, subdotaz)</a></td><td width="20"
align="center"><img class="floatno" src="../images/next.gif" width="15"
height="13" alt="&shy;&gt;" title="Následující téma" border="0"></td>
</tr></table>
</body>
</html>
