<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Použití DOM pro nahrazení elementu</title>

    <script language="javascript">

      function ziskejData(cislo)
      {
        var XMLHttpRequestObjekt = false; 

        if (window.XMLHttpRequest) {
          XMLHttpRequestObjekt = new XMLHttpRequest();
        } else if (window.ActiveXObject) {
          XMLHttpRequestObjekt = new ActiveXObject("Microsoft.XMLHTTP");
        }

        if(XMLHttpRequestObjekt) {
        
          XMLHttpRequestObjekt.open("GET", "data" + cislo +  ".txt"); 

          XMLHttpRequestObjekt.onreadystatechange = function() 
          { 
            if (XMLHttpRequestObjekt.readyState == 4 && 
              XMLHttpRequestObjekt.status == 200) { 
              var novyElementP = document.createElement("p");
              novyElementP.setAttribute("id", "text");
              var novyText = document.createTextNode(XMLHttpRequestObjekt.responseText);
              novyElementP.appendChild(novyText);
              var div = document.getElementById("cilovyDiv");
              var staryElementP = document.getElementById("text");
              div.replaceChild(novyElementP, staryElementP);
            } 
          } 

          XMLHttpRequestObjekt.send(null); 
        }
      }

    </script>
  </head>

  <body>

    <h1>Použití DOM pro nahrazení elementu</h1>

    <form>
      <input type="button" value="Získej zprávu 1" 
        onclick="ziskejData('1')"> 
      <input type="button" value="Získej zprávu 2" 
        onclick="ziskejData('2')"> 
    </form>

    <div id="cilovyDiv" width="100" height="100">
      <p id="text">Získaný text se zobrazí na tomto místě.</p>
    </div>

  </body>

</html>

